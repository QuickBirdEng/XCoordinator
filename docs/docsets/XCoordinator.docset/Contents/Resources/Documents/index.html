<!DOCTYPE html>
<html lang="en">
  <head>
    <title>XCoordinator  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="XCoordinator  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">XCoordinator Docs</a> (41% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">XCoordinator Reference</a>
        <img id="carat" src="img/carat.png" />
        XCoordinator  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Animation.html">Animation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AnyCoordinator.html">AnyCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AnyRouter.html">AnyRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AnyTransitionPerformer.html">AnyTransitionPerformer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BaseCoordinator.html">BaseCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BasicCoordinator.html">BasicCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BasicCoordinator/InitialLoadingType.html">‚Äì InitialLoadingType</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InteractiveTransitionAnimation.html">InteractiveTransitionAnimation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NavigationAnimationDelegate.html">NavigationAnimationDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NavigationCoordinator.html">NavigationCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PageCoordinator.html">PageCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PageCoordinatorDataSource.html">PageCoordinatorDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RedirectionCoordinator.html">RedirectionCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RedirectionRouter.html">RedirectionRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReferenceBox.html">ReferenceBox</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SplitCoordinator.html">SplitCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/StaticTransitionAnimation.html">StaticTransitionAnimation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TabBarAnimationDelegate.html">TabBarAnimationDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TabBarCoordinator.html">TabBarCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ViewCoordinator.html">ViewCoordinator</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Reactive.html">Reactive</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIPageViewController.html">UIPageViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIPageViewController/Configuration.html">‚Äì Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIView.html">UIView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIViewController.html">UIViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/Container.html">Container</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Coordinator.html">Coordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PercentDrivenInteractionController.html">PercentDrivenInteractionController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Presentable.html">Presentable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:12XCoordinator5RouteP">Route</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/Router.html">Router</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TransitionAnimation.html">TransitionAnimation</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TransitionPerformer.html">TransitionPerformer</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TransitionProtocol.html">TransitionProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs.html#/s:12XCoordinator26PresentationHandlerContextV">PresentationHandlerContext</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Transition.html">Transition</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/TransitionOptions.html">TransitionOptions</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator24AnyNavigationCoordinatora">AnyNavigationCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator20AnyTabBarCoordinatora">AnyTabBarCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator18AnyViewCoordinatora">AnyViewCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator26BasicNavigationCoordinatora">BasicNavigationCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator22BasicTabBarCoordinatora">BasicTabBarCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator20BasicViewCoordinatora">BasicViewCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator26ContextPresentationHandlera">ContextPresentationHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator20NavigationTransitiona">NavigationTransition</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator14PageTransitiona">PageTransition</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator19PresentationHandlera">PresentationHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator15SplitTransitiona">SplitTransition</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator16TabBarTransitiona">TabBarTransition</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:12XCoordinator14ViewTransitiona">ViewTransition</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p align="center">
  <img src="https://quickbirdstudios.com/files/xcoordinator/logo.png">
</p>

<p><a href="https://travis-ci.org/quickbirdstudios/XCoordinator"><img src="https://travis-ci.com/quickbirdstudios/XCoordinator.svg?branch=master" alt="Build Status"></a>
<a href="https://img.shields.io/cocoapods/v/XCoordinator.svg"><img src="https://img.shields.io/cocoapods/v/XCoordinator.svg" alt="CocoaPods Compatible"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage Compatible"></a>
<a href="https://github.com/quickbirdstudios/XCoordinator"><img src="https://img.shields.io/badge/platform-iOS-lightgrey.svg" alt="Platform"></a>
<a href="https://github.com/quickbirdstudios/XCoordinator"><img src="https://img.shields.io/cocoapods/l/XCoordinator.svg" alt="License"></a></p>

<p>‚ÄúHow does an app transition from one view controller to another?‚Äù.
This question is common and puzzling regarding iOS development. There are many answers, as every architecture has different implementation variations. Some do it from within the implementation of a view controller, while some use a router/coordinator, an object connecting view models.</p>

<p>To better answer the question, we are building <strong>XCoordinator</strong>, a navigation framework based on the <strong>Coordinator</strong> pattern.
It&rsquo;s especially useful for implementing MVVM-C, Model-View-ViewModel-Coordinator:</p>

<p align="center">
  <img src="https://quickbirdstudios.com/files/xcoordinator/mvvmc.png">
</p>
<h2 id='getting-started' class='heading'>üèÉ‚Äç‚ôÇÔ∏èGetting started</h2>

<p>Create an enum with all of the navigation paths for a particular flow, i.e. a group of closely connected scenes. (It is up to you when to create a <code>Route/Coordinator</code>. As <strong>our rule of thumb</strong>, create a new <code>Route/Coordinator</code> whenever a new root view controller, e.g. a new <code>navigation controller</code> or a <code>tab bar controller</code>, is needed.).</p>

<p>Whereas the <code><a href="Protocols.html#/s:12XCoordinator5RouteP">Route</a></code> describes which routes can be triggered in a flow, the <code><a href="Protocols/Coordinator.html">Coordinator</a></code> is responsible for the preparation of transitions based on routes being triggered. We could, therefore, prepare multiple coordinators for the same route, which differ in which transitions are executed for each route.</p>

<p>In the following example, we create the <code>UserListRoute</code> enum to define triggers of a flow of our application. <code>UserListRoute</code> offers routes to open the home screen, display a list of users, to open a specific user and to log out. The <code>UserListCoordinator</code> is implemented to prepare transitions for the triggered routes. When a <code>UserListCoordinator</code> is shown, it triggers the <code>.home</code> route to display a <code>HomeViewController</code>.</p>
<pre class="highlight swift"><code><span class="kd">enum</span> <span class="kt">UserListRoute</span><span class="p">:</span> <span class="kt">Route</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">home</span>
    <span class="k">case</span> <span class="n">users</span>
    <span class="k">case</span> <span class="nf">user</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
    <span class="k">case</span> <span class="nf">registerUsersPeek</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="kt">Container</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">logout</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">UserListCoordinator</span><span class="p">:</span> <span class="kt">NavigationCoordinator</span><span class="o">&lt;</span><span class="kt">UserListRoute</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">initialRoute</span><span class="p">:</span> <span class="o">.</span><span class="n">home</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">prepareTransition</span><span class="p">(</span><span class="k">for</span> <span class="nv">route</span><span class="p">:</span> <span class="kt">UserListRoute</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">NavigationTransition</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">route</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">home</span><span class="p">:</span>
            <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">HomeViewController</span><span class="o">.</span><span class="nf">instantiateFromNib</span><span class="p">()</span>
            <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">HomeViewModelImpl</span><span class="p">(</span><span class="nv">router</span><span class="p">:</span> <span class="n">anyRouter</span><span class="p">)</span>
            <span class="n">viewController</span><span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">viewModel</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">.</span><span class="nf">push</span><span class="p">(</span><span class="n">viewController</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">users</span><span class="p">:</span>
            <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">UsersViewController</span><span class="o">.</span><span class="nf">instantiateFromNib</span><span class="p">()</span>
            <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">UsersViewModelImpl</span><span class="p">(</span><span class="nv">router</span><span class="p">:</span> <span class="n">anyRouter</span><span class="p">)</span>
            <span class="n">viewController</span><span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">viewModel</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">.</span><span class="nf">push</span><span class="p">(</span><span class="n">viewController</span><span class="p">,</span> <span class="nv">animation</span><span class="p">:</span> <span class="o">.</span><span class="n">interactiveFade</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">user</span><span class="p">(</span><span class="k">let</span> <span class="nv">username</span><span class="p">):</span>
            <span class="k">let</span> <span class="nv">coordinator</span> <span class="o">=</span> <span class="kt">UserCoordinator</span><span class="p">(</span><span class="nv">user</span><span class="p">:</span> <span class="n">username</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">.</span><span class="nf">present</span><span class="p">(</span><span class="n">coordinator</span><span class="p">,</span> <span class="nv">animation</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">registerUsersPeek</span><span class="p">(</span><span class="k">let</span> <span class="nv">source</span><span class="p">):</span>
            <span class="k">return</span> <span class="nf">registerPeek</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="nv">route</span><span class="p">:</span> <span class="o">.</span><span class="n">users</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">logout</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">.</span><span class="nf">dismiss</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Routes are triggered from within Coordinators or ViewModels. In the following, we describe how to trigger routes from within a ViewModel. The router of the current flow is injected into the ViewModel.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">HomeViewModel</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">router</span><span class="p">:</span> <span class="kt">AnyRouter</span><span class="o">&lt;</span><span class="kt">HomeRoute</span><span class="o">&gt;</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">router</span><span class="p">:</span> <span class="kt">AnyRouter</span><span class="o">&lt;</span><span class="kt">HomeRoute</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">router</span> <span class="o">=</span> <span class="n">router</span>
    <span class="p">}</span>

    <span class="cm">/* ... */</span>

    <span class="kd">func</span> <span class="nf">usersButtonPressed</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">router</span><span class="o">.</span><span class="nf">trigger</span><span class="p">(</span><span class="o">.</span><span class="n">users</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='organizing-an-app-39-s-structure-with-xcoordinator' class='heading'>üèó Organizing an app&rsquo;s structure with XCoordinator</h3>

<p>In general, an app&rsquo;s structure is defined by nesting coordinators and view controllers. You can transition (i.e. <code>push</code>, <code>present</code>, <code>pop</code>, <code>dismiss</code>) to a different coordinator whenever your app changes to a different flow. Within a flow, we transition between viewControllers.</p>

<p>Example: In <code>UserListCoordinator.prepareTransition(for:)</code> we change from the <code>UserListRoute</code> to the <code>UserRoute</code> whenever the <code>UserListRoute.user</code> route is triggered. By dismissing a viewController in <code>UserListRoute.logout</code>, we additionally switch back to the previous flow - in this case the <code>HomeRoute</code>.</p>

<p>To achieve this behavior, every Coordinator has its own <code>rootViewController</code>. This would be a <code>UINavigationController</code> in the case of a <code><a href="Classes/NavigationCoordinator.html">NavigationCoordinator</a></code>, a <code>UITabBarController</code> in the case of a <code><a href="Classes/TabBarCoordinator.html">TabBarCoordinator</a></code>, etc. When transitioning to a Coordinator/Router, this <code>rootViewController</code> is used as the destination view controller.</p>
<h3 id='using-xcoordinator-from-app-launch' class='heading'>üèÅ Using XCoordinator from App Launch</h3>

<p>To use coordinators from the launch of the app, make sure to create the app&rsquo;s <code>window</code> programmatically in <code>AppDelegate.swift</code> (Don&rsquo;t forget to remove <code>Main Storyboard file base name</code> from <code>Info.plist</code>). Then, set the coordinator as the root of the <code>window</code>&lsquo;s view hierarchy in the <code>AppDelegate.didFinishLaunching</code>.</p>
<pre class="highlight swift"><code><span class="kd">@UIApplicationMain</span>
<span class="kd">class</span> <span class="kt">AppDelegate</span><span class="p">:</span> <span class="kt">UIResponder</span><span class="p">,</span> <span class="kt">UIApplicationDelegate</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">window</span><span class="p">:</span> <span class="kt">UIWindow</span><span class="o">!</span> <span class="o">=</span> <span class="kt">UIWindow</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">router</span> <span class="o">=</span> <span class="kt">AppCoordinator</span><span class="p">()</span><span class="o">.</span><span class="n">anyRouter</span>

    <span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplicationLaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="n">router</span><span class="o">.</span><span class="nf">setRoot</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="n">window</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='extras' class='heading'>ü§∏‚Äç‚ôÇÔ∏è Extras</h2>

<p>For more advanced use, XCoordinator offers many more customization options. We introduce custom animated transitions and deep linking. Furthermore, extensions for use in reactive programming with RxSwift and options to split up huge routes are described.</p>
<h3 id='custom-transitions' class='heading'>üåó Custom Transitions</h3>

<p>Custom animated transitions define presentation and dismissal animations. You can specify <code><a href="Classes/Animation.html">Animation</a></code> objects in <code>prepareTransition(for:)</code> in your coordinator for several common transitions, such as <code>present</code>, <code>dismiss</code>, <code>push</code> and <code>pop</code>. Specifying no animation (<code>nil</code>) results in not overriding previously set animations. Use <code><a href="Classes/Animation.html#/s:12XCoordinator9AnimationC7defaultACvpZ">Animation.default</a></code> to reset previously set animation to the default animations UIKit offers.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">UsersCoordinator</span><span class="p">:</span> <span class="kt">NavigationCoordinator</span><span class="o">&lt;</span><span class="kt">UserRoute</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="cm">/* ... */</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">prepareTransition</span><span class="p">(</span><span class="k">for</span> <span class="nv">route</span><span class="p">:</span> <span class="kt">UserRoute</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">NavigationTransition</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">route</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">user</span><span class="p">(</span><span class="k">let</span> <span class="nv">name</span><span class="p">):</span>
            <span class="k">let</span> <span class="nv">animation</span> <span class="o">=</span> <span class="kt">Animation</span><span class="p">(</span>
                <span class="nv">presentationAnimation</span><span class="p">:</span> <span class="kt">YourAwesomePresentationTransitionAnimation</span><span class="p">(),</span>
                <span class="nv">dismissalAnimation</span><span class="p">:</span> <span class="kt">YourAwesomeDismissalTransitionAnimation</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">UserViewController</span><span class="o">.</span><span class="nf">instantiateFromNib</span><span class="p">()</span>
            <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">UserViewModelImpl</span><span class="p">(</span><span class="nv">coordinator</span><span class="p">:</span> <span class="n">coordinator</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="n">name</span><span class="p">)</span>
            <span class="n">viewController</span><span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">viewModel</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">.</span><span class="nf">push</span><span class="p">(</span><span class="n">viewController</span><span class="p">,</span> <span class="nv">animation</span><span class="p">:</span> <span class="n">animation</span><span class="p">)</span>
        <span class="cm">/* ... */</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='deep-linking' class='heading'>üõ§ Deep Linking</h3>

<p>Deep Linking can be used to chain different routes together. In contrast to the <code>.multiple</code> transition, deep linking can identify routers based on previous transitions (e.g. when pushing or presenting a router), which enables chaining of routes of different types. Keep in mind, that you cannot access higher-level routers anymore once you trigger a route on a lower level of the router hierarchy.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">AppCoordinator</span><span class="p">:</span> <span class="kt">NavigationCoordinator</span><span class="o">&lt;</span><span class="kt">AppRoute</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="cm">/* ... */</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">prepareTransition</span><span class="p">(</span><span class="k">for</span> <span class="nv">route</span><span class="p">:</span> <span class="kt">AppRoute</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">NavigationTransition</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">route</span> <span class="p">{</span>
        <span class="cm">/* ... */</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">deep</span><span class="p">:</span>
            <span class="k">return</span> <span class="nf">deepLink</span><span class="p">(</span><span class="kt">AppRoute</span><span class="o">.</span><span class="n">login</span><span class="p">,</span> <span class="kt">AppRoute</span><span class="o">.</span><span class="n">home</span><span class="p">,</span> <span class="kt">HomeRoute</span><span class="o">.</span><span class="n">news</span><span class="p">,</span> <span class="kt">HomeRoute</span><span class="o">.</span><span class="n">dismiss</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>‚ö†Ô∏è XCoordinator does not check at compile-time, whether a deep link can be executed. Rather it uses assertionFailures to inform about incorrect chaining at runtime, when it cannot find an appriopriate router for a given route. Keep this in mind when changing the structure of your app.</p>
<h3 id='redirection' class='heading'>üöè Redirection</h3>

<p>Let&rsquo;s assume, there is a route type called <code>HugeRoute</code> with more than 10 routes. To decrease coupling, <code>HugeRoute</code> needs to be split up into mutliple route types. As you will discover, many routes in <code>HugeRoute</code> use transitions dependent on a specific rootViewController, such as <code>push</code>, <code>show</code>, <code>pop</code>, etc. If splitting up routes by introducing a new router/coordinator is not an option, XCoordinator has two solutions for you to solve such a case: <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code> and <code><a href="Classes/RedirectionCoordinator.html">RedirectionCoordinator</a></code>.</p>

<p>A <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code> can be used to map a new route type onto a generalized <code>SuperRoute</code>. A <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code> is independent of the <code>TransitionType</code> of its superRouter. You can use <code><a href="Classes/RedirectionRouter.html#/s:12XCoordinator17RedirectionRouterC14viewController05superC03mapACyxq_GSo06UIViewE0C_AA03AnyC0CyxGxq_cSgtcfc">RedirectionRouter.init(viewController:superRouter:map:)</a></code> or subclassing by overriding <code>mapToSuperRoute(_:)</code> to create a <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code>.</p>

<p>A <code><a href="Classes/RedirectionCoordinator.html">RedirectionCoordinator</a></code> is not dependent on a specific <code>SuperRoute</code>, instead it uses its <code>superTransitionPerformer</code> to perform transitions. Due to constraints of UIKit, this is especially helpful when nesting routes dependent on a <code>UINavigationController</code>, since pushing navigation controllers on top of each other is not possible. Similar to the <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code>, you can use a <code><a href="Classes/RedirectionCoordinator.html">RedirectionCoordinator</a></code> by providing a prepareTransition-closure to map from a route to a transition or by subclassing including the overriding of <code>prepareTransition(for:)</code>.</p>

<p>The following table describes how using a <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code>, <code><a href="Classes/RedirectionCoordinator.html">RedirectionCoordinator</a></code> and creating a new coordinator independent from a superCoordinator stack up:</p>

<table><thead>
<tr>
<th></th>
<th><strong>RedirectionRouter</strong></th>
<th><strong>RedirectionCoordinator</strong></th>
<th><strong>New Coordinator</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Dependencies on superCoordinator</strong></td>
<td>on <code>SuperRoute</code></td>
<td>on <code>TransitionType</code></td>
<td>none</td>
</tr>
<tr>
<td><strong>Type constraint of superCoordinator</strong></td>
<td><code><a href="Protocols/Router.html">Router</a></code></td>
<td><code><a href="Protocols/TransitionPerformer.html">TransitionPerformer</a></code></td>
<td>none</td>
</tr>
<tr>
<td><strong>Accessibility of superCoordinator</strong></td>
<td>map <code>RouteType</code> to <code>SuperRoute</code></td>
<td>map <code>RouteType</code> to <code>TransitionType</code></td>
<td>none</td>
</tr>
<tr>
<td><strong>Transition definition</strong></td>
<td>in superCoordinator</td>
<td>constrained by <code>TransitionType</code> of superCoordinator</td>
<td>independent from superCoordinator</td>
</tr>
</tbody></table>

<p>The following code example illustrates how a <code><a href="Classes/RedirectionCoordinator.html">RedirectionCoordinator</a></code> is initialized and used. The use of a <code><a href="Classes/RedirectionRouter.html">RedirectionRouter</a></code> is similar, but one would need different type-constraints in <code>SubCoordinator.init</code> and override <code>mapToSuperRoute</code> instead of <code>prepareTransition</code>.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">SuperCoordinator</span><span class="p">:</span> <span class="kt">NavigationCoordinator</span><span class="o">&lt;</span><span class="kt">SuperRoute</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="cm">/* ... */</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">prepareTransition</span><span class="p">(</span><span class="k">for</span> <span class="nv">route</span><span class="p">:</span> <span class="kt">SuperRoute</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">NavigationTransition</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">route</span> <span class="p">{</span>
        <span class="cm">/* ... */</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">subCoordinator</span><span class="p">:</span>
            <span class="k">let</span> <span class="nv">subCoordinator</span> <span class="o">=</span> <span class="kt">SubCoordinator</span><span class="p">(</span><span class="nv">superCoordinator</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
            <span class="k">return</span> <span class="o">.</span><span class="nf">push</span><span class="p">(</span><span class="n">subCoordinator</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">SubCoordinator</span><span class="p">:</span> <span class="kt">RedirectionCoordinator</span><span class="o">&lt;</span><span class="kt">SubRoute</span><span class="p">,</span> <span class="kt">NavigationTransition</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">init</span><span class="o">&lt;</span><span class="kt">T</span><span class="p">:</span> <span class="kt">TransitionPerformer</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">superCoordinator</span><span class="p">:</span> <span class="kt">T</span><span class="p">)</span> <span class="k">where</span> <span class="kt">T</span><span class="o">.</span><span class="kt">TransitionType</span> <span class="o">==</span> <span class="kt">NavigationTransition</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">SubCoordinatorViewController</span><span class="p">()</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">viewController</span><span class="p">:</span> <span class="n">viewController</span><span class="p">,</span> <span class="nv">superTransitionPerformer</span><span class="p">:</span> <span class="n">superCoordinator</span><span class="p">,</span> <span class="nv">prepareTransition</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
        <span class="k">let</span> <span class="nv">viewModel</span> <span class="o">=</span> <span class="kt">SubCoordinatorViewModel</span><span class="p">(</span><span class="nv">router</span><span class="p">:</span> <span class="n">anyRouter</span><span class="p">)</span>
        <span class="c1">// this viewModel has to be initialized after `super.init`</span>
        <span class="c1">// since it needs `self` to create the `anyRouter`.</span>
        <span class="n">viewController</span><span class="o">.</span><span class="nf">bind</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="n">viewModel</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="cm">/* ... */</span>

    <span class="k">override</span> <span class="kd">func</span> <span class="nf">prepareTransition</span><span class="p">(</span><span class="k">for</span> <span class="nv">route</span><span class="p">:</span> <span class="kt">SubRoute</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">NavigationTransition</span> <span class="p">{</span>
        <span class="c1">// you can prepare routes here just like in any other NavigationCoordinator</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='rxswift-extensions' class='heading'>üöÄ RxSwift extensions</h3>

<p>Reactive programming can be very useful to keep the state of view and model consistent in a MVVM architecture. Instead of relying on the completion handler of the <code>trigger</code> method available in any <code><a href="Protocols/Router.html">Router</a></code>, you can also use our RxSwift-extension. In the example application, we use Actions (from the <a href="https://github.com/RxSwiftCommunity/Action">Action</a> framework) to trigger routes on certain UI events - e.g. to trigger <code>LoginRoute.home</code> in <code>LoginViewModel</code>, when the login button is tapped.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">LoginViewModelImpl</span><span class="p">:</span> <span class="kt">LoginViewModel</span><span class="p">,</span> <span class="kt">LoginViewModelInput</span><span class="p">,</span> <span class="kt">LoginViewModelOutput</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="k">let</span> <span class="nv">router</span><span class="p">:</span> <span class="kt">AnyRouter</span><span class="o">&lt;</span><span class="kt">AppRoute</span><span class="o">&gt;</span>

    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">loginAction</span> <span class="o">=</span> <span class="kt">CocoaAction</span> <span class="p">{</span> <span class="p">[</span><span class="k">unowned</span> <span class="k">self</span><span class="p">]</span> <span class="k">in</span>
        <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">trigger</span><span class="p">(</span><span class="o">.</span><span class="n">home</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="cm">/* ... */</span>
<span class="p">}</span>

</code></pre>

<p>In addition to the above-mentioned approach, the reactive <code>trigger</code> extension can also be used to sequence different transitions by using the <code>flatMap</code> operator, as can be seen in the following:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">doneWithBothTransitions</span> <span class="o">=</span> 
    <span class="n">router</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">trigger</span><span class="p">(</span><span class="o">.</span><span class="n">home</span><span class="p">)</span>
        <span class="o">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="p">[</span><span class="k">unowned</span> <span class="n">router</span><span class="p">]</span> <span class="k">in</span> <span class="n">router</span><span class="o">.</span><span class="n">rx</span><span class="o">.</span><span class="nf">trigger</span><span class="p">(</span><span class="o">.</span><span class="n">news</span><span class="p">)</span> <span class="p">}</span>
        <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="kc">true</span> <span class="p">}</span>
        <span class="o">.</span><span class="nf">startWith</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</code></pre>
<h2 id='example' class='heading'>üé≠ Example</h2>

<p>Check out this <a href="https://github.com/quickbirdstudios/XCoordinator/tree/master/XCoordinator-Example/XCoordinator-Example">repository</a> as an example project using XCoordinator.</p>
<h2 id='why-coordinators' class='heading'>üë®‚Äç‚úàÔ∏è Why coordinators</h2>

<ul>
<li><strong>Separation of responsibilities</strong> with the coordinator being the only component knowing anything related to the flow of your application.</li>
<li><strong>Reusable Views and ViewModels</strong> because they do not contain any navigation logic.</li>
<li><p><strong>Less coupling between components</strong></p></li>
<li><p><strong>Changeable navigation</strong>: Each coordinator is only responsible for one component and does not need to make assumptions about its parent. It can therefore be placed wherever we want to.</p></li>
</ul>

<blockquote>
<p><a href="http://khanlou.com/2015/01/the-coordinator/">The Coordinator</a> by <strong>Soroush Khanlou</strong></p>
</blockquote>
<h2 id='why-xcoordinator' class='heading'>‚ÅâÔ∏è Why XCoordinator</h2>

<ul>
<li>Actual <strong>navigation code is already written</strong> and abstracted away.</li>
<li>Clear <strong>separation of concerns</strong>:

<ul>
<li>Coordinator: Coordinates routing of a set of routes.</li>
<li>Route: Describes navigation path.</li>
<li>Transition: Describe transition type and animation to new view.</li>
</ul></li>
<li><strong>Reuse</strong> coordinators, routers and transitions in different combinations.</li>
<li>Full support for <strong>custom transitions/animations</strong>.</li>
<li>Support for <strong>embedding child views</strong> / container views.</li>
<li>Generic <code><a href="Classes/BasicCoordinator.html">BasicCoordinator</a></code> classes suitable for many use cases and therefore <strong>less</strong> need to write your <strong>own coordinators</strong>.</li>
<li>Full <strong>support</strong> for your <strong>own coordinator classes</strong> conforming to our Coordinator protocol

<ul>
<li>You can also start with one of the following types to get a head start: <code><a href="Classes/NavigationCoordinator.html">NavigationCoordinator</a></code>, <code><a href="Classes/ViewCoordinator.html">ViewCoordinator</a></code>, <code><a href="Classes/TabBarCoordinator.html">TabBarCoordinator</a></code> and more.</li>
</ul></li>
<li>Generic AnyRouter type erasure class encapsulates all types of coordinators and routers supporting the same set of routes. Therefore you can <strong>easily replace coordinators</strong>.</li>
<li>Use of enum for routes gives you <strong>autocompletion</strong> and <strong>type safety</strong> to perform only transition to routes supported by the coordinator.</li>
</ul>
<h2 id='components' class='heading'>üî© Components</h2>
<h3 id='route' class='heading'>üé¢ Route</h3>

<p>Describes possible navigation paths within a flow, a collection of closely related scenes.</p>
<h3 id='coordinator-router' class='heading'>üë®‚Äç‚úàÔ∏è Coordinator / Router</h3>

<p>An object loading views and creating viewModels based on triggered routes. A Coordinator creates and performs transitions to these scenes based on the data transferred via the route. In contrast to the coordinator, a router can be seen as an abstraction from that concept limited to triggering routes. Often, a Router is used to abstract away from a specific coordinator in ViewModels.</p>
<h3 id='transition' class='heading'>üåó Transition</h3>

<p>Transitions describe the navigation from one view to another. Transitions are available based on the type of the root view controller in use. Example: Whereas <code><a href="Typealiases.html#/s:12XCoordinator14ViewTransitiona">ViewTransition</a></code> only supports basic transitions that every root view controller supports, <code><a href="Typealiases.html#/s:12XCoordinator20NavigationTransitiona">NavigationTransition</a></code> adds navigation controller specific transitions.</p>

<p>The available transition types include:</p>

<ul>
<li><strong>present</strong> presents a view controller on top of the view hierarchy - use <strong>presentOnRoot</strong> in case you want to present from the root view controller</li>
<li><strong>embed</strong> embeds a view controller into a container view</li>
<li><strong>dismiss</strong> dismisses the top most presented view controller - use <strong>dismissToRoot</strong> to call dismiss on the root view controller</li>
<li><strong>none</strong> does nothing, may be used to ignore routes or for testing purposes</li>
<li><strong>push</strong> pushes a view controller to the navigation stack (only in <code><a href="Typealiases.html#/s:12XCoordinator20NavigationTransitiona">NavigationTransition</a></code>)</li>
<li><strong>pop</strong> pops the top view controller from the navigation stack (only in <code><a href="Typealiases.html#/s:12XCoordinator20NavigationTransitiona">NavigationTransition</a></code>)</li>
<li><strong>popToRoot</strong> pops all the view controllers on the navigation stack except the root view controller (only in <code><a href="Typealiases.html#/s:12XCoordinator20NavigationTransitiona">NavigationTransition</a></code>)</li>
</ul>

<p>XCoordinator additionally supports common transitions for <code>UITabBarController</code>, <code>UISplitViewController</code> and <code>UIPageViewController</code> root view controllers.</p>
<h2 id='installation' class='heading'>üõ† Installation</h2>
<h4 id='cocoapods' class='heading'>CocoaPods</h4>

<p>To integrate XCoordinator into your Xcode project using CocoaPods, add this to your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'XCoordinator'</span><span class="p">,</span> <span class="s1">'~&gt; 1.0'</span>
</code></pre>

<p>To use the RxSwift extensions, add this to your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'XCoordinator/RxSwift'</span><span class="p">,</span> <span class="s1">'~&gt; 1.0'</span>
</code></pre>
<h4 id='carthage' class='heading'>Carthage</h4>

<p>To integrate XCoordinator into your Xcode project using Carthage, add this to your <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "quickbirdstudios/XCoordinator" ~&gt; 1.0
</code></pre>

<p>Then run <code>carthage update</code>.</p>

<p>If this is your first time using Carthage in the project, you&rsquo;ll need to go through some additional steps as explained <a href="https://github.com/Carthage/Carthage#adding-frameworks-to-an-application">over at Carthage</a>.</p>
<h4 id='manually' class='heading'>Manually</h4>

<p>If you prefer not to use any of the dependency managers, you can integrate XCoordinator into your project manually, by downloading the source code and placing the files on your project directory.  </p>
<h2 id='author' class='heading'>üë§ Author</h2>

<p>This framework is created with ‚ù§Ô∏è by <a href="https://quickbirdstudios.com">QuickBird Studios</a>.</p>

<p>To get more information on XCoordinator check out <a href="https://quickbirdstudios.com/blog/ios-navigation-library-based-on-the-coordinator-pattern/">our blog post</a>.</p>
<h2 id='contributing' class='heading'>‚ù§Ô∏è Contributing</h2>

<p>Open an issue if you need help, if you found a bug, or if you want to discuss a feature request. If you feel like having a chat about XCoordinator with the developers and other users, join our <a href="https://join.slack.com/t/xcoordinator/shared_invite/enQtNDg4NDAxNTk1ODQ1LTRhMjY0OTAwNWMyYmQ5ZWI5Mzk3ODU1NGJmMWZlZDY3Y2Q0NTZjOWNkMjgyNmQwYjY4MzZmYTRhN2EzMzczNTM">Slack Workspace</a>.</p>

<p>Open a PR if you want to make changes to XCoordinator.</p>
<h2 id='license' class='heading'>üìÉ License</h2>

<p>XCoordinator is released under an MIT license. See <a href="https://github.com/quickbirdstudios/XCoordinator/blob/master/LICENSE">License.md</a> for more information.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://github.com/quickbirdstudios/XCoordinator" target="_blank" rel="external">Stefan Kofler and Paul Kraft</a>. All rights reserved. (Last updated: 2019-01-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ‚ô™‚ô´ v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
